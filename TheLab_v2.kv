ScreenManager:
    WelcomePage1:
    WelcomePage2:
    Instruction1:
    TempShow1:
    # TempShow2:
    FirstStage:
    NumberInput1:
    SecondStage:

<WelcomePage1>:
    name: 'welcome_page1'
    ImageButton:
        source: './images/Temple1_withoutWord.png'
        on_press: 
            root.manager.current = 'welcome_page2'
            root.manager.transition.direction = 'left'
    ImageButton:
        source: './images/icons8-double-right-100.png'
        pos_hint: {'center_x':0.95,'center_y':0.5}
        on_press:
            root.manager.current = 'welcome_page2'
            root.manager.transition.direction = 'left'
    MDLabel:
        text: "請點擊圖片"
        font_name: './fonts/msjh.ttc'
        font_size: '60sp'
        pos_hint: {'center_x':0.5,'center_y':0.2}
        halign: 'center'
        color: 1,0,0,1

<WelcomePage2>:
    name: 'welcome_page2'
    ImageButton:
        source: './images/Temple1_withWord.png'
        on_press: root.manager.current = 'instruction1'
    ImageButton:
        source: './images/icons8-left-50.png'
        pos_hint: {'center_x':0.05,'center_y':0.5}
        on_press:
            root.manager.current = 'welcome_page1'
            root.manager.transition.direction = 'right'
    ImageButton:
        source: './images/icons8-double-right-100.png'
        pos_hint: {'center_x':0.95,'center_y':0.5}
        on_press:
            root.manager.current = 'instruction1'
            root.manager.transition.direction = 'left'

<Instruction1>:
    name: 'instruction1'
    Image:
        source: './images/Temple2_withInstruction.png'
        size: self.texture_size
        # size_hint_y: 0.35
        pos_hint: {"top": 1}
        opacity: 0.4
        allow_stretch: True
    MDLabel:
        markup: True
        font_name: './fonts/msjh.ttc'
        font_size: '40sp'
        text:'''難度一：「待會你看到及聽到的數字便是此次中獎號碼，[color=ff0000]不用記順序[/color]，記住我給你看的數字就好。你瞭解了嗎？」'''
    
    
    # \n難度二：「待會你[color=ff0000]聽到[/color]的數字便是此次中獎號碼，[color=ff0000]不用記順序[/color]，記住我講的數字就好。你瞭解了嗎？」\n難度三：「待會你看到的數字是這一期的中獎號碼，不過你[color=ff0000]一定要按照我的順序[/color]填寫號碼才可中獎。你瞭解了嗎？」\n難度四：「待會你[color=ff0000]聽到[/color]的數字是這一期的中獎號碼，但跟之前不一樣，你必須在我講完號後[color=ff0000]按數字大小順序[/color]填寫號碼才能中獎。你瞭解了嗎？」\n難度五：「天機不可洩漏，我已告知你太多。這次只能告訴你，將你聽到的[color=ff0000]『OOOO』[/color]數字加起來就是這一期的彩券中獎號碼。這樣瞭解了嗎？」
    # ImageButton:
    #     source: './images/icons8-left-50.png'
    #     pos_hint: {'center_x':0.05,'center_y':0.5}
    #     on_press:
    #         root.manager.current = 'welcome_page2'
    #         root.manager.transition.direction = 'right'
    
    ImageButton:
        source: './images/icons8-double-right-100.png'
        pos_hint: {'center_x':0.87,'center_y':0.25}
        opacity: 0
        on_press:
            root.manager.current = 'temp_show1'
            root.manager.transition.direction = 'left'
    ImageButton:
        source: './images/icons8-left-50.png'
        pos_hint: {'center_x':0.17,'center_y':0.25}
        on_press:
            root.manager.current = 'welcome_page2'
            root.manager.transition.direction = 'right'

<TempShow1>:
    name: 'temp_show1'
    ImageButton:
        source: './images/Temple2_withWord.png'
        on_press: root.manager.current = 'first_stage'
    ImageButton:
        source: './images/icons8-left-50.png'
        pos_hint: {'center_x':0.05,'center_y':0.5}
        on_press:
            root.manager.current = 'instruction1'
            root.manager.transition.direction = 'right'
    ImageButton:
        source: './images/icons8-double-right-100.png'
        pos_hint: {'center_x':0.95,'center_y':0.5}
        on_press:
            root.manager.current = 'first_stage'
            root.manager.transition.direction = 'left'

# <TempShow2>:
#     name: 'temp_show2'
#     Image:
#         source: './images/Temple2_NumberPresent.png'
#         size: self.texture_size
#         pos_hint: {"top": 1}
#         allow_stretch: True
#     ImageButton:
#         source: './images/icons8-double-right-100.png'
#         pos_hint: {'center_x':0.87,'center_y':0.25}
#         opacity: 0
#         on_press:
#             root.manager.current = 'first_stage'
#             root.manager.transition.direction = 'left'
#     ImageButton:
#         source: './images/icons8-left-50.png'
#         pos_hint: {'center_x':0.17,'center_y':0.25}
#         on_press:
#             root.manager.current = 'temp_show1'
#             root.manager.transition.direction = 'right'


<FirstStage>:
    name: 'first_stage'
    Image:
        source: './images/Temple2_NumberPresent.png'
        opacity:0.8
        pos_hint: {"top": 1}
    MDLabel:
        text: root.my_text
        font_name: './fonts/msjh.ttc'
        halign: 'center'
        pos_hint: {'center_x':0.73, 'center_y':0.7}
        font_size: '50sp'
        allow_stretch: True
    
    MDRectangleFlatButton:
        text: '停止'
        font_name: './fonts/msjh.ttc'
        on_press: root.stop_sound()
        pos_hint: {'center_x':0.2,'center_y':0.6}
    ImageButton:
        source: './images/icons8-double-right-50.png'
        pos_hint: {'center_x':0.87,'center_y':0.25}
        opacity: 0
        size_hint_y: 0.15
        on_press: root.on_button_click()

<NumberInput1>:

# <FirstStage>:       # 有數字聲音的，最早的唸數字及呈現數字
#     name: 'first_stage'
#     MDBoxLayout:
# 	    orientation: 'vertical'
#         MDLabel: 
#             text: 'Picture'
#             halign: 'center'
#         MDRectangleFlatButton:
#             text: 'Click me'
#             on_press: root.on_button_click()
#             pos_hint: {'center_x':0.5,'center_y':0.7}
#         MDRectangleFlatButton:
#             text: 'Stop play sound'
#             on_press: root.stop_sound()
#             pos_hint: {'center_x':0.5,'center_y':0.6}
#         MDRectangleFlatButton:
#             text: 'Second stage'
#             on_press: root.manager.current = 'second_stage'
#             pos_hint: {'center_x':0.5,'center_y':0.5}
#         MDRectangleFlatButton:
#             text: 'Back'
#             pos_hint: {'center_x':0.5,'center_y':0.4}
#             on_press: 
#                 root.manager.current = 'welcome_page2'
#                 # root.manager.transition.direction = 'right'
#         MDLabel:
#             text: root.my_text
#             halign: 'center'
#             font_size: '30sp'

<SecondStage>:
    name: 'second_stage'
    MDLabel:
        text: 'Welcome to second stage'
        halign: 'center'
    MDRectangleFlatButton:
        text: 'Back'
        pos_hint: {'center_x':0.5,'center_y':0.1}
        on_press: 
            root.manager.current = 'first_stage'
            # root.manager.transition.direction = 'right'